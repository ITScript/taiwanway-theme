function makeDisplay(e){let t=null,o=()=>{};return a=>{if(clearTimeout(t),o(),a)e.classList.remove("hidden"),t=requestAnimationFrame((()=>{t=requestAnimationFrame((()=>{e.classList.add("opacity-100"),e.classList.remove("opacity-0")}))}));else{if(!e.classList.contains("hidden")){function r(){e.classList.add("hidden"),e.removeEventListener("transitionend",r),o=()=>{}}e.addEventListener("transitionend",r),o=()=>{o=()=>{},e.removeEventListener("transitionend",r)}}e.classList.add("opacity-0"),e.classList.remove("opacity-100")}}}const menuDisplay=makeDisplay(document.getElementById("menu"));function scrollToElement(e){document.getElementById(e)?.scrollIntoView()}function filterProducts(e){const t=Array.from(document.querySelectorAll("[data-product-type]"));Array.from(document.querySelectorAll("[data-filter]")).forEach((t=>{t.getAttribute("data-filter")===e?t.classList.add("text-c1"):t.classList.remove("text-c1")})),t.forEach((t=>{"all"===e||t.getAttribute("data-product-type")===e?t.classList.remove("hidden"):t.classList.add("hidden")}))}const displayBackToTop=makeDisplay(document.getElementById("back-to-top")),observer=new IntersectionObserver((e=>{e.forEach((e=>{displayBackToTop(!e.isIntersecting)}))}));function initCarousel(e){const t=document.querySelector(`#carousel-${e} [data-carousel]`),o=document.querySelector(`#carousel-${e} [data-thumbnails]`),a=Array.from(document.querySelectorAll(`#carousel-${e} [data-carousel-item]`)),r=new IntersectionObserver((t=>{t.forEach((t=>{const a=t.target.getAttribute("data-carousel-item"),r=document.querySelector(`#carousel-${e} [data-thumbnail-item = "${a}"]`),l=r.querySelector("img");t.isIntersecting?((r.offsetLeft+r.scrollWidth>o.clientWidth||r.offsetLeft<o.scrollLeft)&&o.scrollTo({left:r.offsetLeft}),l.classList.remove("grayscale"),l.classList.add("grayscale-0")):(l.classList.add("grayscale"),l.classList.remove("grayscale-0"))}))}),{threshold:1,root:t});a.forEach((e=>{r.observe(e)}))}observer.observe(document.getElementById("navigation"));const modals=new Map([]);function initModal(e){if(!modals.has(e)){const t=document.querySelector(`[data-modal-id="${e}"]`);modals.set(e,makeDisplay(t)),initCarousel(e)}return modals.get(e)}function showModal(e){initModal(e)(!0)}function hideModal(e){initModal(e)(!1)}function increase(e){const t=document.querySelector(`[id="qty-${e}"]`);Number.parseInt(t.value)<Number.parseInt(t.max)&&(t.value=String(Number.parseInt(t.value)+1))}function decrease(e){const t=document.querySelector(`[name="id-${e}"]`);t.value>t.min&&(t.value=String(Number.parseInt(t.value)-1))}function addToCart(e){const t=document.querySelector(`[id="qty-${e}"]`);console.log("add to cart",e,t.value)}function carouselLeft(e){const t=document.querySelector(`#carousel-${e} [data-carousel]`);t.scrollLeft-t.clientWidth>=0&&t.scroll({left:t.scrollLeft-t.clientWidth})}function carouselRight(e){const t=document.querySelector(`#carousel-${e} [data-carousel]`);t.scrollLeft+t.clientWidth<t.scrollWidth&&t.scroll({left:t.scrollLeft+t.clientWidth})}function carouselScrollTo(e,t){const o=document.querySelector(`#carousel-${e} [data-carousel]`),a=o.querySelector(`[data-carousel-item = "${t}"]`);o.scroll({left:a.offsetLeft})}window.taiwanway={menuDisplay:menuDisplay,scrollToElement:scrollToElement,filterProducts:filterProducts,showModal:showModal,hideModal:hideModal,increase:increase,decrease:decrease,addToCart:addToCart,carouselLeft:carouselLeft,carouselRight:carouselRight,carouselScrollTo:carouselScrollTo};
//# sourceMappingURL=index.4da1db57.js.map
